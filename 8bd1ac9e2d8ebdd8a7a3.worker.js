!function(e){function n(t){if(r[t])return r[t].exports;var o=r[t]={exports:{},id:t,loaded:!1};return e[t].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var r={};return n.m=e,n.c=r,n.p="./",n(0)}([function(e,n,r){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function o(e,n){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function s(e){return Array.isArray(e)?e:Array.from(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.decode=n.getAnsiClasses=void 0;var u=o(["",""],["",""]),i=r(1),a=t(i),l=/(?:\033)(?:\[0?c|\[[0356]n|\[7[lh]|\[\?25[lh]|\(B|H|\[(?:\d+(;\d+){,2})?G|\[(?:[12])?[JK]|[DM]|\[0K)/gm,c=/\033\[1000D/gm,d=/\r[\n]?/gm,f=/^/gm,p=13,g=10,h=1e3,v=new TextDecoder("utf-8"),b=new TextEncoder("utf-8"),y=883e3/h,m=/[&<>'"]/g,x={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;","`":"&#x60;"},w=function(e){return x[e]},E=new Uint8Array(0),k=0,L=[],M=[],O=[],j=19,A=n.getAnsiClasses=function(e){var n=[];return e.foreground&&n.push(e.foreground),e.background&&n.push("bg-"+e.background),e.bold&&n.push("bold"),e.italic&&n.push("italic"),e.underline&&n.push("underline"),n.join(" ")},C=n.decode=function(e){return v.decode(new DataView(e.buffer)).replace(c,"\r").replace(d,"\n").replace(l,"").split(f).map(a["default"])},T=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise(function(r,t){var o=new XMLHttpRequest;o.open("GET",e);var s=setTimeout(function(){u(s),t(o)},n?1e4:6e4),u=function(e){clearTimeout(e),o.removeEventListener("progress",i),o.removeEventListener("load",i)},i=function(){o.response&&(u(s),r(o))};o.overrideMimeType("text/plain; charset=utf-8"),o.addEventListener("progress",i),o.addEventListener("load",i),o.addEventListener("error",function(){u(s),t(o)}),n&&(o.responseType="arraybuffer"),o.send()})},H=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=function(){return T(e,!1).then(function(e){e.response&&J(b.encode(e.response)),e.addEventListener("error",S),e.addEventListener("progress",function(){e.response&&J(b.encode(e.response))}),e.addEventListener("load",function(){e.response&&(J(b.encode(e.response)),_())})})["catch"](function(e){e&&e.abort&&e.abort(),S()})};return n?void T(e).then(function(e){e.response&&(J(e.response),_())})["catch"](function(e){e&&e.abort&&e.abort(),r()}):r()},J=function(e){var n=new Uint8Array(e),r=n.length;if(E.length!==r){E=n;var t=0,o=0;L=[],M=[];for(var s=0;s<r;s++){var u=E[s]===p||E[s]===g&&E[s-1]!==p;u&&t++,t===h&&(L.push(E.slice(o,s)),M.push(h*j),O.push(t),o=E[s]===p&&E[s+1]===g?s+2:s+1,t=0)}o<r&&(L.push(E.slice(o,r)),M.push(t*j),O.push(t));var i=0;L.length>y&&(i=L.length-y,k=h*i,L=L.slice(i),M=M.slice(i),O=O.slice(i)),self.postMessage(JSON.stringify({type:"update",chunkHeights:M,offset:k,lineHeight:j}))}},S=function(){return self.postMessage(JSON.stringify({type:"error"}))},_=function(){return self.postMessage(JSON.stringify({type:"loadend"}))},N=function(e,n){var r=n.highlightStart,t=n.highlightEnd;return e>=r&&e<=t?' class="line highlight"':' class="line"'},D=function(e){return e.replace(m,w)},P=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];var o=s(e),u=o[0],i=o.slice(1);return r.reduce(function(e,n,r){return""+e+D(n)+i[r]},u)},q=function(e,n){var r=C(L[e]),t=h*e+k+1,o=r.map(function(e,r){var o=t+r,s=N(o,n);return"<div"+s+'><a id="'+o+'">'+o+"</a>"+e.map(function(e){var n=A(e),r=P(u,e.text);return n?'<span class="'+n+'">'+r+"</span>":"<span>"+r+"</span>"}).join("")+"</div>"}).join("");self.postMessage(JSON.stringify({type:"decoded-index",index:e,html:o}))};self.addEventListener("message",function(e){try{var n=JSON.parse(e.data);switch(n.type){case"start":return n.lineHeight&&(j=n.lineHeight),H(n.url,n.useBuffer);case"decode-index":return q(n.index,n.metadata)}}catch(r){return r}})},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={foregroundColors:{30:"black",31:"red",32:"green",33:"yellow",34:"blue",35:"magenta",36:"cyan",37:"white",90:"grey"},backgroundColors:{40:"black",41:"red",42:"green",43:"yellow",44:"blue",45:"magenta",46:"cyan",47:"white"},styles:{1:"bold",3:"italic",4:"underline"}};n["default"]=function(e){var n,t=null,o=null,s="",u=[],i=[],a={};n=function(){var e,n;s.length?s=s.substr(0,s.length-1):i.length&&(e=i.length-1,n=i[e].text,1===n.length?i.pop():i[e].text=n.substr(0,n.length-1))};for(var l=0;l<e.length;l++)null==t?null==o?""==e[l]?t=e[l]:"\b"==e[l]?n():s+=e[l]:";"==e[l]?(u.push(o),o=""):"m"==e[l]?(u.push(o),o=null,s="",u.forEach(function(e){r.foregroundColors[e]?a.foreground=r.foregroundColors[e]:r.backgroundColors[e]?a.background=r.backgroundColors[e]:39==e?delete a.foreground:49==e?delete a.background:r.styles[e]?a[r.styles[e]]=!0:22==e?a.bold=!1:23==e?a.italic=!1:24==e&&(a.underline=!1)}),u=[]):o+=e[l]:""==t&&"["==e[l]?(s&&(a.text=s,i.push(a),a={},s=""),t=null,o=""):(s+=t+e[l],t=null);return s&&(a.text=s+(t?t:""),i.push(a)),i}}]);